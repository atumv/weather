{"version":3,"sources":["components/Header.js","components/Form/Input.js","components/Form/GetBtn.js","components/Form/LoadingBtn.js","components/Form/CityExamples.js","components/Form/Form.js","components/Weather.js","App.js","index.js"],"names":["Header","className","href","Input","setInputRef","input","useRef","useEffect","current","focus","type","name","placeholder","ref","GetBtn","setGetBtnRef","getBtn","LoadingBtn","CityExamples","inputRef","getBtnRef","attr","onClick","e","preventDefault","value","target","textContent","click","Form","loading","getWeather","useState","undefined","onSubmit","Weather","props","windDirection","plusSign","temperature","city","country","Math","round","description","src","icon","alt","windSpeed","error","App","setTemperature","setCity","setCountry","setWindDirection","setWindSpeed","setIcon","setDescription","setLoading","setError","a","elements","url","fetch","request","json","response","status","cod","clearState","main","temp","sys","wind","deg","speed","weather","ReactDOM","render","document","getElementById"],"mappings":"kNAUeA,MARf,WACE,OACE,uBAAGC,UAAU,cAAcC,KAAK,cAC9B,wBAAID,UAAU,UAAd,0CCgBSE,MAnBf,YAAiC,IAAhBC,EAAe,EAAfA,YACTC,EAAQC,iBAAO,MAOrB,OALAC,qBAAU,WACRH,EAAYC,GACZA,EAAMG,QAAQC,WAId,2BACER,UAAU,aACVS,KAAK,OACLC,KAAK,OACLC,YAAY,4EACZC,IAAKR,KCAIS,MAdf,YAAmC,IAAjBC,EAAgB,EAAhBA,aACVC,EAASV,iBAAO,MAMtB,OAJAC,qBAAU,WACRQ,EAAaC,MAIb,4BAAQf,UAAU,cAAcY,IAAKG,GAArC,qDCAWC,MARf,WACE,OACE,4BAAQhB,UAAU,mBAChB,yBAAKA,UAAU,cCuBNiB,MA1Bf,YAAgD,IAAxBC,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,UAO1BC,EAAO,CACXpB,UAAW,oBACXC,KAAM,IACNoB,QATF,SAA2BC,GACzBA,EAAEC,iBACFL,EAASX,QAAQiB,MAAQF,EAAEG,OAAOC,YAClCP,EAAUZ,QAAQoB,UASpB,OACE,yBAAK3B,UAAU,iBACb,sBAAOoB,EAAP,+CACA,sBAAOA,EAAP,kCACA,sBAAOA,EAAP,wCACA,sBAAOA,EAAP,0DACA,sBAAOA,EAAP,wCACA,sBAAOA,EAAP,8CACA,sBAAOA,EAAP,wECJSQ,MAbf,YAAwC,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,WAAc,EACLC,wBAASC,GADJ,mBAC9Bd,EAD8B,KACpBf,EADoB,OAEH4B,wBAASC,GAFN,mBAE9Bb,EAF8B,KAEnBL,EAFmB,KAIrC,OACE,0BAAMd,UAAU,OAAOiC,SAAUH,GAC/B,kBAAC,EAAD,CAAO3B,YAAaA,IACnB0B,EAAU,kBAAC,EAAD,MAAiB,kBAAC,EAAD,CAAQf,aAAcA,IAClD,kBAAC,EAAD,CAAcI,SAAUA,EAAUC,UAAWA,MCgDpCe,MA5Df,SAAiBC,GACf,IAEIC,EAFEC,EAAWF,EAAMG,YAAc,EAAI,mCAAiB,KAsB1D,OAlBIH,EAAMC,eAAiB,KAAOD,EAAMC,eAAiB,IACvDA,EAAgB,iDACPD,EAAMC,eAAiB,KAAOD,EAAMC,eAAiB,IAC9DA,EAAgB,uDACPD,EAAMC,eAAiB,KAAOD,EAAMC,eAAiB,GAC9DA,EAAgB,iDACPD,EAAMC,eAAiB,IAAMD,EAAMC,eAAiB,GAC7DA,EAAgB,uDACPD,EAAMC,eAAiB,IAAMD,EAAMC,eAAiB,IAC7DA,EAAgB,iDACPD,EAAMC,eAAiB,KAAOD,EAAMC,eAAiB,IAC9DA,EAAgB,uDACPD,EAAMC,eAAiB,KAAOD,EAAMC,eAAiB,IAC9DA,EAAgB,iDACPD,EAAMC,eAAiB,KAAOD,EAAMC,eAAiB,MAC9DA,EAAgB,wDAIhB,yBAAKpC,UAAU,WACZmC,EAAMI,MACL,uBAAGvC,UAAU,gBACVmC,EAAMI,KADT,KACiBJ,EAAMK,SAIxBL,EAAMG,aACL,uBAAGtC,UAAU,gBACVqC,EACAI,KAAKC,MAAMP,EAAMG,aAFpB,SAMDH,EAAMQ,aACL,yBAAK3C,UAAU,uBACb,yBACEA,UAAU,2BACV4C,IAAKT,EAAMU,KACXC,IAAI,SAEN,0BAAM9C,UAAU,4BAA4BmC,EAAMQ,cAIrDR,EAAMY,WACL,uBAAG/C,UAAU,gBAAb,mCACUyC,KAAKC,MAAMP,EAAMY,WAD3B,kBAC4CX,GAI7CD,EAAMa,OAAS,uBAAGhD,UAAU,SAASmC,EAAMa,S,YC2BnCC,MA3Ef,WAAgB,IAAD,EACyBlB,wBAASC,GADlC,mBACNM,EADM,KACOY,EADP,OAEWnB,wBAASC,GAFpB,mBAENO,EAFM,KAEAY,EAFA,OAGiBpB,wBAASC,GAH1B,mBAGNQ,EAHM,KAGGY,EAHH,OAI6BrB,wBAASC,GAJtC,mBAINI,EAJM,KAISiB,EAJT,OAKqBtB,wBAASC,GAL9B,mBAKNe,EALM,KAKKO,EALL,OAMWvB,wBAASC,GANpB,mBAMNa,EANM,KAMAU,EANA,OAOyBxB,wBAASC,GAPlC,mBAONW,EAPM,KAOOa,EAPP,OAQiBzB,wBAASC,GAR1B,mBAQNH,EARM,KAQG4B,EARH,OASa1B,wBAASC,GATtB,mBASNgB,EATM,KASCU,EATD,KAWP5B,EAAU,uCAAG,WAAMR,GAAN,yBAAAqC,EAAA,6DACjBrC,EAAEC,kBACIgB,EAAOjB,EAAEG,OAAOmC,SAASrB,KAAKf,QAC1BiC,GAAW,GACfI,EAJW,4DAIgDtB,EAJhD,kBAbL,mCAaK,kCAKKuB,MAAMD,GALX,cAKXE,EALW,gBAMMA,EAAQC,OANd,OAMXC,EANW,OAOXC,EAASD,EAASE,IAElBC,EAAa,WACjBlB,OAAelB,GACfmB,OAAQnB,GACRoB,OAAWpB,GACXqB,OAAiBrB,GACjBsB,OAAatB,GACbuB,OAAQvB,GACRwB,OAAexB,IAGH,KAAVkC,GACFhB,EAAee,EAASI,KAAKC,MAC7BnB,EAAQc,EAASvD,MACjB0C,EAAWa,EAASM,IAAI/B,SACxBa,EAAiBY,EAASO,KAAKC,KAC/BnB,EAAaW,EAASO,KAAKE,OAC3BnB,EAAQ,qCAAD,OACgCU,EAASU,QAAQ,GAAG9B,KADpD,SAGPW,EAAeS,EAASU,QAAQ,GAAGhC,aACnCe,OAAS1B,GACTyB,GAAW,IACQ,KAAVS,GACTE,IACAV,EAAS,oIACTD,GAAW,IACQ,KAAVS,IACTE,IACAV,EAAS,oFACTD,GAAW,IAtCI,4CAAH,sDA0ChB,OACE,yBAAKzD,UAAU,OACb,kBAAC,EAAD,MAEA,kBAAC,EAAD,CAAM6B,QAASA,EAASC,WAAYA,KAEvB,IAAZD,GACC,kBAAC,EAAD,CACES,YAAaA,EACbC,KAAMA,EACNC,QAASA,EACTK,KAAMA,EACNF,YAAaA,EACbI,UAAWA,EACXX,cAAeA,EACfY,MAAOA,MCzEjB4B,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.16a20e1a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <a className=\"header-link\" href=\"index.html\">\r\n      <h1 className=\"header\">Погода</h1>\r\n    </a>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useRef, useEffect } from \"react\";\r\n\r\nfunction Input({ setInputRef }) {\r\n  const input = useRef(null);\r\n\r\n  useEffect(() => {\r\n    setInputRef(input);\r\n    input.current.focus();\r\n  });\r\n\r\n  return (\r\n    <input\r\n      className=\"city-input\"\r\n      type=\"text\"\r\n      name=\"city\"\r\n      placeholder=\"Введите город\"\r\n      ref={input}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","import React, { useRef, useEffect } from \"react\";\r\n\r\nfunction GetBtn({ setGetBtnRef }) {\r\n  const getBtn = useRef(null);\r\n\r\n  useEffect(() => {\r\n    setGetBtnRef(getBtn);\r\n  });\r\n\r\n  return (\r\n    <button className=\"btn get-btn\" ref={getBtn}>\r\n      Получить\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default GetBtn;\r\n","import React from \"react\";\r\n\r\nfunction LoadingBtn() {\r\n  return (\r\n    <button className=\"btn loading-btn\">\r\n      <div className=\"spinner\" />\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default LoadingBtn;\r\n","import React from \"react\";\r\n\r\nfunction CityExamples({ inputRef, getBtnRef }) {\r\n  function getExampleWeather(e) {\r\n    e.preventDefault();\r\n    inputRef.current.value = e.target.textContent;\r\n    getBtnRef.current.click();\r\n  }\r\n\r\n  const attr = {\r\n    className: \"city-example-link\",\r\n    href: \"#\",\r\n    onClick: getExampleWeather\r\n  };\r\n\r\n  return (\r\n    <div className=\"city-examples\">\r\n      <a {...attr}>Нью-Йорк</a>\r\n      <a {...attr}>Токио</a>\r\n      <a {...attr}>Москва</a>\r\n      <a {...attr}>Хельсинки</a>\r\n      <a {...attr}>Лондон</a>\r\n      <a {...attr}>Стамбул</a>\r\n      <a {...attr}>Новосибирск</a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CityExamples;\r\n","import React, { useState } from \"react\";\r\nimport Input from \"./Input\";\r\nimport GetBtn from \"./GetBtn\";\r\nimport LoadingBtn from \"./LoadingBtn\";\r\nimport CityExamples from \"./CityExamples\";\r\n\r\nfunction Form({ loading, getWeather }) {\r\n  const [inputRef, setInputRef] = useState(undefined);\r\n  const [getBtnRef, setGetBtnRef] = useState(undefined);\r\n\r\n  return (\r\n    <form className=\"form\" onSubmit={getWeather}>\r\n      <Input setInputRef={setInputRef} />\r\n      {loading ? <LoadingBtn /> : <GetBtn setGetBtnRef={setGetBtnRef} />}\r\n      <CityExamples inputRef={inputRef} getBtnRef={getBtnRef} />\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\n\r\nfunction Weather(props) {\r\n  const plusSign = props.temperature > 0 ? <span>+</span> : null;\r\n\r\n  let windDirection;\r\n\r\n  if (props.windDirection >= 247 && props.windDirection <= 292) {\r\n    windDirection = <span>← (З)</span>;\r\n  } else if (props.windDirection >= 293 && props.windDirection <= 337) {\r\n    windDirection = <span>↖ (СЗ)</span>;\r\n  } else if (props.windDirection >= 338 && props.windDirection <= 22) {\r\n    windDirection = <span>↑ (С)</span>;\r\n  } else if (props.windDirection >= 23 && props.windDirection <= 67) {\r\n    windDirection = <span>↗ (СВ)</span>;\r\n  } else if (props.windDirection >= 68 && props.windDirection <= 112) {\r\n    windDirection = <span>→ (В)</span>;\r\n  } else if (props.windDirection >= 113 && props.windDirection <= 157) {\r\n    windDirection = <span>↘ (ЮВ)</span>;\r\n  } else if (props.windDirection >= 158 && props.windDirection <= 202) {\r\n    windDirection = <span>↓ (Ю)</span>;\r\n  } else if (props.windDirection >= 203 && props.windDirection <= 246) {\r\n    windDirection = <span>↙ (ЮЗ)</span>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"weather\">\r\n      {props.city && (\r\n        <p className=\"weather-city\">\r\n          {props.city}, {props.country}\r\n        </p>\r\n      )}\r\n\r\n      {props.temperature && (\r\n        <p className=\"weather-temp\">\r\n          {plusSign}\r\n          {Math.round(props.temperature)}°C\r\n        </p>\r\n      )}\r\n\r\n      {props.description && (\r\n        <div className=\"weather-description\">\r\n          <img\r\n            className=\"weather-description-icon\"\r\n            src={props.icon}\r\n            alt=\"icon\"\r\n          />\r\n          <span className=\"weather-description-text\">{props.description}</span>\r\n        </div>\r\n      )}\r\n\r\n      {props.windSpeed && (\r\n        <p className=\"weather-wind\">\r\n          Ветер: {Math.round(props.windSpeed)} м/с {windDirection}\r\n        </p>\r\n      )}\r\n\r\n      {props.error && <p className=\"error\">{props.error}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Weather;\r\n","import React, { useState } from \"react\";\r\nimport Header from \"./components/Header\";\r\nimport Form from \"./components/Form/Form\";\r\nimport Weather from \"./components/Weather\";\r\nimport \"./styles/style.css\";\r\nimport \"./styles/media.css\";\r\n\r\nconst api_key = \"4c3dab4e5b6cd35fa657b1440eb74bfb\";\r\n\r\nfunction App() {\r\n  const [temperature, setTemperature] = useState(undefined);\r\n  const [city, setCity] = useState(undefined);\r\n  const [country, setCountry] = useState(undefined);\r\n  const [windDirection, setWindDirection] = useState(undefined);\r\n  const [windSpeed, setWindSpeed] = useState(undefined);\r\n  const [icon, setIcon] = useState(undefined);\r\n  const [description, setDescription] = useState(undefined);\r\n  const [loading, setLoading] = useState(undefined);\r\n  const [error, setError] = useState(undefined);\r\n\r\n  const getWeather = async e => {\r\n    e.preventDefault();\r\n    const city = e.target.elements.city.value;\r\n    if (city) setLoading(true);\r\n    const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${api_key}&units=metric&lang=ru`;\r\n    const request = await fetch(url);\r\n    const response = await request.json();\r\n    const status = response.cod;\r\n\r\n    const clearState = () => {\r\n      setTemperature(undefined);\r\n      setCity(undefined);\r\n      setCountry(undefined);\r\n      setWindDirection(undefined);\r\n      setWindSpeed(undefined);\r\n      setIcon(undefined);\r\n      setDescription(undefined);\r\n    };\r\n\r\n    if (status == 200) {\r\n      setTemperature(response.main.temp);\r\n      setCity(response.name);\r\n      setCountry(response.sys.country);\r\n      setWindDirection(response.wind.deg);\r\n      setWindSpeed(response.wind.speed);\r\n      setIcon(\r\n        `https://openweathermap.org/img/wn/${response.weather[0].icon}.png`\r\n      );\r\n      setDescription(response.weather[0].description);\r\n      setError(undefined);\r\n      setLoading(false);\r\n    } else if (status == 400) {\r\n      clearState();\r\n      setError(\"Введите название города\");\r\n      setLoading(false);\r\n    } else if (status == 404) {\r\n      clearState();\r\n      setError(\"Город не найден\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Header />\r\n\r\n      <Form loading={loading} getWeather={getWeather} />\r\n\r\n      {loading === false && (\r\n        <Weather\r\n          temperature={temperature}\r\n          city={city}\r\n          country={country}\r\n          icon={icon}\r\n          description={description}\r\n          windSpeed={windSpeed}\r\n          windDirection={windDirection}\r\n          error={error}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}